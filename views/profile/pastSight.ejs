
<h1>This will show all past sightings</h1>

<div id="map">
	
</div>
 <br>

<h3><%= user.firstname %>'s Sightings</h3>
<hr>

<% user.wildlife.forEach(function(sighting){%>
	<div class="card">
	  <div class="card-body">
	    <h5 class="card-title"><%= sighting.species %></h5>
	    <h6 class="card-subtitle mb-2 text-muted"><%= sighting.date %></h6>
	    <p class="card-text"><%= sighting.general_location %></p>
	    <a href="#" class="card-link">Maybe this could highlight on map</a>
	    <a href="#" class="card-link">maybe this could link to some info about species</a>
	  </div>
	</div>
	<br>
<%})%>




<script type="text/javascript">
	function initMap(){
		  var myLatlng = new google.maps.LatLng(48.4779,-120.1862);

		  map = new google.maps.Map(document.getElementById('map'), {
		    center: myLatlng,
		    zoom: 10
		  });

		  <% var location =[];

		   user.wildlife.forEach(function(locate){
		    var mark = [locate.latitude, locate.longitude];
		    location.push(mark);
		    console.log ("THIS IS THE LOCATION: ", location);
		  }); %>

		   
		  function loadMarkers(){
		        console.log( 'HERE IS LOCATION DATA:', location)
		        for(var i = 0; i < location.length; i++){
		          var coordinate = location[i];
		          var position = new google.maps.LatLng(coordinate[0], coordinate[1]);

		          //Some code here to extend bounds if needed

		          var marker = new google.maps.Marker({
		            animation: google.maps.Animation.DROP,
		            map: map,
		            position: position
		          }) // end marker creation

		        } //end for loop
		      } //end loadMarkers

		    loadMarkers(); 
		}
</script>
<script src="/js/pastSightMap.js"></script>




